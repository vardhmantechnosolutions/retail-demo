<div style="margin: auto;">
    <!-- <header class=""> -->
    <div class="headerpart container-fluid">
        <div class="row justify-content-between montaga-regular newClassForWidth">
            <div class="left-section col-md-3 col-12 text-center" >
                <img class="newIMgg" src="assets/img/b4cb84b2-66ee-445b-b2a5-f62b6a65167c.jpg" />
            </div>

            <div class="col-md-4 rightsection" >
                <div style="position: relative;">
                    <p>Employee*</p>
                </div>
<div style="position: relative; width: 100%;">

    <ng-select [(ngModel)]="salesP" required #salesPersons="ngModel" class="form-control p-0  aaa" name="salesP" style="color: #fff;border-color: #fff !important;">
        <ng-option class="optionClass montaga-regular" *ngFor="let sales of salesPerson" [value]="sales._id">{{sales.name}}</ng-option>
        
    </ng-select>
    <span class="errorTextForEmployee" *ngIf="salesPersons.invalid && salesPersons.touched">Required*</span>
</div>
            </div>
        </div>
    </div>
    <!-- </header> -->

    <div class="w-75 m-auto mt-5">
        <div class="row justify-content-between py-4" style="gap: 15px 0;">
            <div class="col-md-6 pe-md-4 p-0">
                <div class="form-group d-flex ">
                    <label for="name">Name*</label>
                    <input type="text" [(ngModel)]="name" class="form-control" id="name" #nameInput="ngModel" required />
                    <span class="errorText" *ngIf="nameInput.invalid && nameInput.touched">Required*</span>
                </div>
            </div>
            <div class="col-md-6 ps-md-4 p-0">
                <div class="form-group d-flex ">
                    <label for="phone" style="width: 100px;">Phone No*</label>
                    <input type="text" class="form-control" 
                    [ngClass]="{'stillEror': this.phoneInput?.value?.length != 10 && phoneInput.touched}"  
                    [(ngModel)]="phone" [attr.maxlength]="10" [attr.minlength]="10" 
                    (input)="phoneVlidation($event)" #phoneInput="ngModel" required id="phone" />

                    <span class="errorText" *ngIf="phoneInput.invalid && phoneInput.touched">Required*</span>
                    <span class="errorText" *ngIf="phoneInput?.value?.length && phoneInput?.value?.length != 10 && phoneInput.touched">Please Enter a valid Phone no.*</span>

                </div>
            </div>
            <div class="col-md-6 pe-md-4 p-0">
                <div class="form-group d-flex ">
                    <label for="email" style="width: 80px;">E-Mail</label>
                    <input type="text" class="form-control" email [(ngModel)]="email" id="email"  #emailInput="ngModel" email/>
                </div>
            </div>
            <!-- <div class="col-md-6  p-0">
                <div class="form-group d-flex ">
                    <label for="state">State</label>
                    <ng-select [(ngModel)]="address.state" class="form-control p-0" name="state" (change)="selectCity()">
                        <ng-option *ngFor="let state of States" [value]="state.isoCode">{{state.name}}</ng-option>
                    </ng-select>
                </div>
            </div> -->
            <!-- <div class="col-md-6  p-0">
                <div class="form-group d-flex ">
                    <label for="City">Address</label>
                    <input type="text" class="form-control" #addressInput="ngModel"  [(ngModel)]="address.city">
                </div>
            </div> -->
            <!-- <div class="col-md-6  p-0">
                <div class="form-group d-flex ">
                    <label for="gender">Gender</label>
                    <select class="form-control" id="gender" [(ngModel)]="gender" required #genderInput="ngModel">
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                        <option value="Other">Other</option>
                    </select>
                    <span class="errorText" *ngIf="genderInput.invalid && genderInput.touched">Required*</span>
                </div>
            </div> -->

            <div class="col-md-6 ps-md-4 p-0">
            
            
            
                <div class="form-group d-flex ">
                    <label for="birthdate" style="width: 100px;">Birth Date </label>
                    
                <ng-select [(ngModel)]="dobMonth" class="ngSelectClass me-4 categ form-control" name="categ"
                (change)="updateDays(dobMonth, 'dob')">
                <ng-option [value]="''" disabled>{{'Select Month'}}</ng-option>
                <ng-option *ngFor="let month of months" [value]="month.value">{{month.name}}</ng-option>
            </ng-select>
                <ng-select [(ngModel)]="dobDay" class="ngSelectClass categ form-control" name="categ">
                <ng-option [value]="''" disabled>{{'Select Date'}}</ng-option>
                    
                <ng-option *ngFor="let day of days" [value]="day">{{day}}</ng-option>
            </ng-select>
                    <!-- <input type="date" class="form-control" [(ngModel)]="customFields.dob" #dob="ngModel"
                        id="birthdate" /> -->
                </div>


            
                <!-- <div class="form-group d-flex ">
                    <label for="birthdate" style="width: 100px;">Birth Date</label>
                    <input type="date" class="form-control" [(ngModel)]="customFields.dob" #dob="ngModel" id="birthdate" />
                    <span class="errorText" *ngIf="dob.invalid && dob.touched">Required*</span>
                </div>
            
             -->
            </div>




            <div class="col-md-6 pe-md-4 p-0">

            <div class="form-group d-flex ">
                <label for="anniversary">Anniversary</label>

                <ng-select [(ngModel)]="AnniMonth" class="ngSelectClass me-4 categ form-control" name="categ"
                (change)="updateDays(AnniMonth, 'ani')">
                <ng-option [value]="''" disabled>{{'Select Month'}}</ng-option>
                <ng-option *ngFor="let month of months" [value]="month.value">{{month.name}}</ng-option>
            </ng-select>
                <ng-select [(ngModel)]="AnniDay" class="ngSelectClass categ form-control" name="categ">
                <ng-option [value]="''" disabled>{{'Select Date'}}</ng-option>

                <ng-option *ngFor="let day of daysOfAnni" [value]="day">{{day}}</ng-option>
            </ng-select>

                <!-- <input type="date" class="form-control" #anniversary="ngModel"
                    [(ngModel)]="customFields.anniversary_date" id="anniversary" /> -->
            </div>
</div>




            <!-- <div class="col-md-6  p-0">
                <div class="form-group d-flex ">
                    <label for="anniversary">Anniversary</label>
                    <input type="date" class="form-control" #anniversary="ngModel"  [(ngModel)]="customFields.anniversary_date"
                        id="anniversary" />
                </div>
            </div>

             -->
            <div class="col-md-6  p-0">
            </div>
        </div>
    </div>


    
    <h3 class="text-center montaga-regular mt-5" style="color: 4C4C4C;"> Area of Interest</h3>
    
    
    
    
    <div class="categSelectionNewClass p-0 m-0 w-75 m-auto d-flex align-items-center">

        <label class="labelClass" for="category">Category</label>


        <ng-select [(ngModel)]="categoryInterest" class="w-md-25 ngSelectClass categ form-control" name="categ"
            (change)="wishlistChanged()">
            <ng-option *ngFor="let cat of wishlist" [value]="cat._id">{{cat.name}}</ng-option>
        </ng-select>

    </div>


    
    
    <div class="d-md-flex d-block newClasssToManage pt-5 w-75 m-auto">

    
        <div class="pt-3 text-center montaga-regular" *ngFor="let data of wishlist[selectedCategoryIndex].values">
            <button class="btn btn-light border" [ngClass]="{'selectedInterest': data.selected}"
                (click)="dataToWishList(data)">{{data.name}}</button>
        </div>

    </div>









    <div class="w-75" style="margin: auto; margin-top: 70px;">
        <div class="my-5">

            <h5 class="d-flex justify-content-center mb-5">
                Are you a visitor or a customer?
            </h5>

            <div class="d-flex justify-content-between">
                <button class="btn btn-light setteHeoght border me-2" [ngClass]="{'subMitButon': customFields.user_type == 'visitor'}"
                    type="button" (click)="customFields.user_type = 'visitor'">VISITOR</button>
                <button class="btn btn-light setteHeoght border ms-2" [ngClass]="{'subMitButon': customFields.user_type == 'customer'}"
                    type="button" (click)="customFields.user_type = 'customer'">CUSTOMER</button>
            </div>

            <ng-container *ngIf="customFields.user_type != 'visitor'">


            <div class="formClass">
                <form class="formClassIn">
                    <div class="inDIv">
                        <label class="labelClass" for="category">Category*</label>

                        <ng-select [(ngModel)]="category" required class="ngSelectClass" name="categ" (change)="products = ''" >
                            <ng-option [value]="''">{{'Select category'}}</ng-option>
                            <ng-option *ngFor="let cat of categories" [value]="cat._id">{{cat.name}}</ng-option>
                        </ng-select>

                    </div>

                    <div class="inDIv">
                        <label class="labelClass" for="product">Product*</label>

                        <ng-select [(ngModel)]="products" class="ngSelectClass" name="prod">
                            <ng-option [value]="''">{{'Select product'}}</ng-option>
                            <ng-container *ngFor="let prod of prodducts">

                            <ng-option  [value]="prod._id" *ngIf="category && category == prod.category._id">
                                
                                {{prod.name}}
                            </ng-option>
                            <ng-option  [value]="prod._id" *ngIf="!category">
                                {{prod.name}}
                                
                            </ng-option>
                            
                        </ng-container>

                        </ng-select>

                    </div>


                    <div class="inDIv">
                        <label class="labelClass" for="Quantity">Quantity*</label>
                        <input type="number" name="Quantity" [(ngModel)]="Quantity" class="form-control p-0">
                    </div>
                    <div class="inDIv">
                        <label class="labelClass" for="price">Item Price*</label>
                        <input type="number" [(ngModel)]="price" name="price" class="form-control p-0">
                    </div>

                    <div class="d-flex justify-content-end align-items-center">
                        <button class="btn btn-light subMitButon d-flex w-25 text-center align-items-center justify-content-center" (click)="addProduct()" 
                        *ngIf="
                            this.category &&
                            this.products&&
                            this.Quantity &&
                            this.price && 
                            this.customFields.user_type
                        ">Add Product</button>
                        <button class="btn btn-light subMitButon disabled d-flex w-25 text-center align-items-center justify-content-center" (click)="addProduct()"
                        *ngIf="
                            !this.category ||
                            !this.products||
                            !this.Quantity ||
                            !this.price ||
                            !this.customFields.user_type
                        ">Add Product</button>
                    </div>
                </form>

                <div class="formAdddss">

                    <div class="productDiv" *ngFor="let prod of productsListAdded; let i = index" style="position: relative;">
                        <div class="dropdown-center">
                            <button class="btn border-none" data-bs-toggle="dropdown" aria-expanded="false">

                                <svg xmlns="http://www.w3.org/2000/svg" 
                                    width="16" 
                                    height="16" 
                                    fill="currentColor"
                                    class="bi bi-three-dots-vertical" 
                                    viewBox="0 0 16 16">
                                <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                                </svg>
                            </button>

                            <ul class="dropdown-menu">
                                <!-- <li><a class="dropdown-item" (click)="edit(prod, i)">Edit</a></li> -->
                                <li><a class="dropdown-item" (click)="remove(prod, i)">Remove</a></li>
                            </ul>
                        </div>
                        <div>
                            <div class="upperDIvProd">
                                <h5>
                                    {{prod.name}}
                                </h5>
                                <div class="d-flex">
                                    <div class="mx-2">
                                        <h6>Category :</h6>
                                        <h6>Quantity :</h6>
                                        <h6>Item Price : </h6>
                                    </div>
                                    <div>
                                    <h6 class="fwss">{{prod.category}}</h6>
                                    <h6 class="fwss">{{prod.count}}</h6>
                                    <h6 class="fwss">{{' '+ prod.price + ' ₹'}}</h6>

                                    </div>
                                </div>
                            </div>
                            <!-- <div class="lowerDIvProd">
                                <p>Quantity - {{prod.count}}</p>
                                <p>Price (each)- {{prod.price}}</p>
                            </div> -->
                        </div>
                    </div>
                </div>

            </div>
        </ng-container>

        </div>

        <div class="container-fluid mb-4">
            <h5 class="d-flex justify-content-center mb-4">Comment/Feedback Form</h5>
            <form action="#" method="post" class="mb-5">
                <div class="form-group">
                    <textarea [(ngModel)]="customFields.feedback" id="comment" placeholder="Feedback..." name="comment" required></textarea>
                </div>
                <!-- <div class="form-group align-items-center"> -->
                <button (click)="touchFields()" class="subMitButon disabledCustom btn d-flex justify-content-around text-center align-items-center"
                    style="margin: auto; " type="submit" 
                    *ngIf="nameInput?.invalid || 
                    phoneInput?.invalid || 
                    salesPersons?.invalid ||
                    this.phoneInput?.value?.length != 10
                    ">Submit
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                        class="bi bi-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                    </svg></button>
                <button class="subMitButon  btn d-flex justify-content-around text-center align-items-center"
                    style="margin: auto; " type="submit" (click)="submit()" 
                    *ngIf="
                    nameInput?.valid && 
                    phoneInput?.valid && 
                    salesPersons?.valid &&
                    this.phoneInput?.value?.length == 10
                    ">Submit
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                        class="bi bi-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                    </svg></button>
                <!-- </div> -->
            </form>
        </div>
    </div>

</div>